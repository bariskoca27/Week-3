<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pizza Paradise</title>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    body { font-family: Arial, sans-serif; }
    .page { display: none; }
    .page.active { display: block; }
    .product-img { width: 100%; height: 150px; object-fit: contain; background: #fff; padding: 10px; }
    #menu-total { font-weight: bold; font-size: 1.2em; margin-bottom: 10px; }
    footer { margin-top: 20px; }
    #home img {
      max-width: 300px;
      margin-top: 20px;
      filter: drop-shadow(2px 4px 6px rgba(0,0,0,0.2));
    }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-danger sticky-top">
    <a class="navbar-brand" href="#" data-page="home">Pizza Paradise</a>
    <button class="navbar-toggler" data-toggle="collapse" data-target="#navbars">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbars">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item"><a class="nav-link" href="#" data-page="home">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="#" data-page="menu">Menu</a></li>
        <li class="nav-item"><a class="nav-link" href="#" data-page="order">Order</a></li>
        <li class="nav-item"><a class="nav-link" href="#" data-page="contact">Contact</a></li>
      </ul>
    </div>
  </nav>

  <!-- Pages -->
  <div id="home" class="page active">
    <section class="jumbotron text-center bg-light mb-0">
      <div class="container">
        <h1 class="display-4 text-danger">Welcome to Pizza Paradise!</h1>
        <p class="lead">Delicious pizzas and more, all in one place.</p>
        <img src="https://cdn-icons-png.flaticon.com/512/1046/1046781.png" alt="Cartoon pizza" />
        <br />
        <a href="#" class="btn btn-danger btn-lg mt-3" data-page="menu">View Menu & Order</a>
      </div>
    </section>
  </div>

  <div id="menu" class="page">
    <section class="container my-5">
      <h2 class="mb-4 text-center">Our Full Menu</h2>
      <div id="menu-total">Total: £0.00</div>
      <h4>Pizzas</h4>
      <div class="row mb-4" id="pizzas"></div>
      <h4>Pasta & Rice</h4>
      <div class="row mb-4" id="pastas"></div>
      <h4>Desserts</h4>
      <div class="row mb-4" id="desserts"></div>
      <h4>Beverages</h4>
      <div class="row mb-4" id="drinks"></div>
    </section>
  </div>

  <div id="order" class="page">
    <section class="container my-5">
      <h2 class="mb-4 text-center">Your Cart</h2>
      <div class="form-group">
        <label>Choose Delivery Option:</label><br />
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="deliveryOption" id="delivery" value="Delivery" checked>
          <label class="form-check-label" for="delivery">Delivery</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="deliveryOption" id="collection" value="Collection">
          <label class="form-check-label" for="collection">Collection</label>
        </div>
      </div>

      <div id="order-details"></div>

      <div id="delivery-form" class="mt-4">
        <h5>Enter Your Details:</h5>
        <div class="form-group">
          <label for="customerName">Name</label>
          <input type="text" class="form-control" id="customerName" required />
        </div>
        <div class="form-group" id="address-group">
          <label for="customerAddress">Address</label>
          <textarea class="form-control" id="customerAddress" rows="2"></textarea>
        </div>
        <div class="form-group">
          <label for="customerPhone">Phone</label>
          <input type="tel" class="form-control" id="customerPhone" required />
        </div>
      </div>

      <button class="btn btn-secondary mt-2" id="reset-cart">Reset Cart</button>
      <button class="btn btn-primary mt-2" id="place-order" style="margin-left:10px;">Place Order</button>
    </section>
  </div>

  <div id="contact" class="page">
    <section class="container my-5">
      <h2 class="mb-4 text-center">Contact Us</h2>
      <div class="row">
        <div class="col-md-6 mb-4">
          <h5>Our Location</h5>
          <p>123 Pizza Street<br>Food City, FC 12345</p>
          <p>Phone: (123) 456-7890</p>
          <p>Email: <a href="mailto:examplewebmail@proton.me">examplewebmail@proton.me</a></p>
        </div>
        <div class="col-md-6 mb-4">
          <h5>Send a Message</h5>
          <form id="contactForm" novalidate>
            <div class="form-group">
              <label for="contactName">Name *</label>
              <input type="text" class="form-control" id="contactName" required>
            </div>
            <div class="form-group">
              <label for="contactEmail">Email *</label>
              <input type="email" class="form-control" id="contactEmail" required>
            </div>
            <div class="form-group">
              <label for="contactMessage">Message *</label>
              <textarea class="form-control" id="contactMessage" rows="4" required></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Send Message</button>
          </form>
        </div>
      </div>
    </section>
  </div>

  <footer class="text-center my-3">
    Images from <a href="https://www.flaticon.com/" target="_blank" rel="noopener noreferrer">flaticon.com</a> | &copy; Pizza Paradise | All rights reserved
  </footer>

  <script>
    const pages = document.querySelectorAll('.page');
    let cart = JSON.parse(localStorage.getItem('cart')) || [];

    const productsData = {
      pizzas: [
        {
          name: 'Margherita',
          price: 7,
          img: 'https://cdn-icons-png.flaticon.com/512/3075/3075977.png',
        },
        {
          name: 'Pepperoni',
          price: 8.5,
          img: 'https://cdn-icons-png.flaticon.com/512/3075/3075963.png',
        },
        {
          name: 'Veggie',
          price: 9,
          img: 'https://cdn-icons-png.flaticon.com/512/135/135753.png',
        },
      ],
      pastas: [
        {
          name: 'Spaghetti Bolognese',
          price: 6,
          img: 'https://cdn-icons-png.flaticon.com/512/1046/1046784.png',
        },
        {
          name: 'Penne Arrabbiata',
          price: 7,
          img: 'https://cdn-icons-png.flaticon.com/512/1046/1046787.png',
        },
      ],
      desserts: [
        {
          name: 'Tiramisu',
          price: 4,
          img: 'https://cdn-icons-png.flaticon.com/512/1046/1046751.png',
        },
        {
          name: 'Chocolate Brownie',
          price: 4,
          img: 'https://cdn-icons-png.flaticon.com/512/1046/1046741.png',
        },
      ],
      drinks: [
        {
          name: 'Lemonade',
          price: 2,
          img: 'https://cdn-icons-png.flaticon.com/512/123/123258.png',
        },
        {
          name: 'Coca-Cola',
          price: 2,
          img: 'https://cdn-icons-png.flaticon.com/512/3379/3379749.png',
        },
      ],
    };

    function updateMenuTotal() {
      let total = cart.reduce((sum, item) => sum + item.price * item.qty, 0);
      document.getElementById('menu-total').innerText = `Total: £${total.toFixed(2)}`;
    }

    function saveCart() {
      localStorage.setItem('cart', JSON.stringify(cart));
    }

    function loadProducts() {
      for (const cat in productsData) {
        const container = document.getElementById(cat);
        container.innerHTML = '';
        productsData[cat].forEach(p => {
          container.innerHTML += `<div class="col-md-4 mb-3">
            <div class="card h-100">
              <img src="${p.img}" class="card-img-top product-img" alt="${p.name}" />
              <div class="card-body">
                <h5>${p.name}</h5>
                <p>£${p.price.toFixed(2)}</p>
                <button class="btn btn-sm btn-outline-primary add-to-cart" data-name="${p.name}" data-price="${p.price}">Add to Cart</button>
              </div>
            </div>
          </div>`;
        });
      }
      attachAddButtons();
    }

    function attachAddButtons() {
      document.querySelectorAll('.add-to-cart').forEach(btn => {
        btn.onclick = () => {
          const name = btn.dataset.name;
          const price = parseFloat(btn.dataset.price);
          const found = cart.find(item => item.name === name);
          if (found) found.qty++;
          else cart.push({ name, price, qty: 1 });
          saveCart();
          updateMenuTotal();
        };
      });
    }

    function loadOrder() {
      const container = document.getElementById('order-details');
      if(cart.length === 0) {
        container.innerHTML = "<p>Your cart is empty.</p>";
        return;
      }
      let html = '<table class="table table-bordered"><tr><th>Product</th><th>Qty</th><th>Price</th><th>Subtotal</th></tr>';
      let total = 0;
      cart.forEach(item => {
        let subtotal = item.price * item.qty;
        total += subtotal;
        html += `<tr>
          <td>${item.name}</td>
          <td>${item.qty}</td>
          <td>£${item.price.toFixed(2)}</td>
          <td>£${subtotal.toFixed(2)}</td>
        </tr>`;
      });
      html += `<tr><th colspan="3" class="text-right">Total</th><th>£${total.toFixed(2)}</th></tr></table>`;
      container.innerHTML = html;
    }

    function toggleAddressField() {
      const deliveryOption = document.querySelector('input[name="deliveryOption"]:checked').value;
      const addressGroup = document.getElementById('address-group');
      if(deliveryOption === 'Delivery'){
        addressGroup.style.display = 'block';
        document.getElementById('customerAddress').required = true;
      } else {
        addressGroup.style.display = 'none';
        document.getElementById('customerAddress').required = false;
      }
    }

    // Place order handler
    document.getElementById('place-order').onclick = () => {
      const name = document.getElementById('customerName').value.trim();
      const phone = document.getElementById('customerPhone').value.trim();
      const deliveryOption = document.querySelector('input[name="deliveryOption"]:checked').value;
      const address = document.getElementById('customerAddress').value.trim();

      if(!name || !phone || (deliveryOption === 'Delivery' && !address)) {
        alert('Please fill all required fields.');
        return;
      }
      if(cart.length === 0){
        alert('Your cart is empty!');
        return;
      }

      let orderDetails = `Order for ${name}\nPhone: ${phone}\nDelivery Method: ${deliveryOption}\n`;
      if(deliveryOption === 'Delivery') orderDetails += `Address: ${address}\n`;
      orderDetails += '\nItems:\n';

      cart.forEach(item => {
        orderDetails += `${item.name} x ${item.qty} = £${(item.price * item.qty).toFixed(2)}\n`;
      });

      orderDetails += `\nTotal: £${cart.reduce((sum, item) => sum + item.price * item.qty, 0).toFixed(2)}\n`;

      const mailtoLink = `mailto:examplewebmail@proton.me?subject=New Pizza Order&body=${encodeURIComponent(orderDetails)}`;
      window.location.href = mailtoLink;
    };

    // Reset cart button
    document.getElementById('reset-cart').onclick = () => {
      if(confirm('Clear your cart?')) {
        cart = [];
        saveCart();
        updateMenuTotal();
        loadOrder();
      }
    };

    // Navigation
    document.querySelectorAll('a[data-page]').forEach(link => {
      link.addEventListener('click', e => {
        e.preventDefault();
        const targetPage = link.getAttribute('data-page');
        pages.forEach(p => p.classList.remove('active'));
        document.getElementById(targetPage).classList.add('active');
        if(targetPage === 'menu') {
          loadProducts();
          updateMenuTotal();
        }
        if(targetPage === 'order') {
          loadOrder();
          toggleAddressField();
        }
      });
    });

    // Delivery option change
    document.querySelectorAll('input[name="deliveryOption"]').forEach(radio => {
      radio.onchange = toggleAddressField;
    });

    // Contact form validation and submission
    document.getElementById('contactForm').onsubmit = e => {
      e.preventDefault();
      const name = document.getElementById('contactName').value.trim();
      const email = document.getElementById('contactEmail').value.trim();
      const message = document.getElementById('contactMessage').value.trim();
      if(!name || !email || !message){
        alert('Please fill all required fields.');
        return;
      }
      alert('Thank you for your message!');
      e.target.reset();
    };

    // Initialize
    loadProducts();
    updateMenuTotal();
  </script>

  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
